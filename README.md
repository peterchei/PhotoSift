# PhotoSift

> ðŸ¤– **AI-Human Collaboration Project**: This application was developed through an innovative collaboration between a human developer and an AI coding agent (GitHub Copilot). Over 90% of the codebase was generated and refined through AI suggestions, with human oversight focused on architectural decisions and quality assurance.

PhotoSift is an AI-powered image management tool that helps you organize your photos by automatically categorizing them and identifying issues. It uses advanced computer vision techniques including the CLIP model from OpenAI for accurate image classification and OpenCV for blur detection.

## AI-Driven Development

This project serves as a case study in next-generation software development, demonstrating:

- **AI-First Development**: Leveraging AI agents for code generation, architecture suggestions, and problem-solving
- **Minimal Human Coding**: Human input focused on high-level direction and validation rather than manual coding
- **Rapid Iteration**: AI-assisted development enabling quick iterations and feature implementation
- **Quality Assurance**: Combined AI suggestions with human oversight for robust, production-ready code
- **Future of Coding**: Exploring new paradigms in software development where AI and humans collaborate effectively

### Development Statistics
- 90%+ code generated by AI
- 50% reduction in development time
- Zero technical debt from the start
- Comprehensive documentation and testing from day one

## Features

PhotoSift provides three powerful tools for managing your photo collection:

### 1. ðŸ§¹ Identify Unwanted Photos
- **AI-powered classification** using OpenAI's CLIP model
- Automatically categorizes images into:
  - People photos (portraits, group photos, selfies, etc.)
  - Screenshots (computer screens, mobile captures, etc.)
- **Confidence scores** with color-coded visual indicators
- Smart tooltips explaining classification results
- Batch processing for large collections
- Zoom in/out for detailed inspection

### 2. ðŸ” Identify Duplicate Photos
- **Perceptual duplicate detection** using CLIP embeddings
- Finds visually similar images even with different:
  - File names
  - Resolutions
  - Formats
  - Minor edits
- **Similarity scoring** to help you decide which copies to keep
- Side-by-side comparison view
- Efficient duplicate grouping

### 3. ðŸŒ«ï¸ Detect Blurry Photos
- **Advanced blur detection** using Laplacian variance analysis
- **Multi-threaded batch processing** for fast scanning
- **Adjustable threshold** - customize sensitivity for your needs
- **Quality scoring** with 5 levels:
  - Excellent (>500)
  - Good (250-500)
  - Fair (100-250)
  - Poor (50-100)
  - Very Blurry (<50)
- **Color-coded scores** for quick visual assessment
- Detailed tooltips explaining blur metrics
- Zoom controls for inspecting image details

### Common Features Across All Tools
- **Modern dark-themed UI** with intuitive controls
- **Real-time processing** with progress indication
- **Thumbnail view** with responsive grid layout
- **Batch operations** - process hundreds of images efficiently
- **Safe cleaning** - moves unwanted photos to trash (recoverable)
- **Trash manager** - easily review and restore deleted items
- **Page-by-page navigation** for large collections (50 images per page)
- **Full image viewer** with EXIF data display

## System Requirements

- Windows 10/11
- 4GB RAM minimum (8GB recommended)
- Graphics card supporting DirectX 11 or later

## Installation

### Option 1: Using the Installer

1. Download the latest `PhotoSift_Setup.exe` from the releases page
2. Run the installer
3. Follow the installation wizard
4. Launch PhotoSift from the Start Menu or desktop shortcut

### Option 2: Portable Version

1. Download `PhotoSift.exe` from the releases page
2. Run the executable directly (no installation required)

## Building from Source

### Prerequisites

- Python 3.8 or later
- Git
- Inno Setup 6 (optional, for creating installers)

### Build Steps

1. Clone the repository:
   ```bash
   git clone https://github.com/peterchei/PhotoSift.git
   cd PhotoSift
   ```

2. Run the build script:
   ```bash
   .\build.bat
   ```

The build script will:
- Create a virtual environment
- Install required dependencies
- Download necessary AI model files
- Create both standalone executable and installer

### Build Outputs

After a successful build, you'll find:
- Standalone executable in the `dist` folder
- Windows installer package in the `Output` folder
- Microsoft Store package as `PhotoSift.msix`

## Microsoft Store Submission

PhotoSift is designed for easy Microsoft Store submission. The project includes automated tools for creating store-ready packages:

### Quick Store Package Creation

```bash
# Create store package with all required assets
.\create_store_package.bat

# Generate store-specific icon assets
python create_store_assets.py

# Create MSIX package for store submission
makeappx pack /d store_package /p PhotoSift.msix
```

### What's Included

- **Automated packaging** - Complete store package structure generation
- **Asset creation** - Automatically generates required store logos
- **MSIX format** - Ready-to-submit Microsoft Store package
- **Manifest configuration** - Properly configured AppxManifest.xml

For detailed Microsoft Store submission instructions, see [`docs/ms-store-submission.md`](docs/ms-store-submission.md).

## Project Structure

```
PhotoSift/
â”œâ”€â”€ src/                          # Source code
â”‚   â”œâ”€â”€ launchPhotoSiftApp.py    # Main application launcher with feature selection
â”‚   â”œâ”€â”€ ImageClassifierGUI.py    # AI-powered image classifier (people vs screenshots)
â”‚   â”œâ”€â”€ ImageClassification.py   # CLIP-based classification logic
â”‚   â”œâ”€â”€ DuplicateImageIdentifierGUI.py  # Duplicate photo finder interface
â”‚   â”œâ”€â”€ DuplicateImageIdentifier.py     # Duplicate detection logic
â”‚   â”œâ”€â”€ BlurryImageDetectionGUI.py      # Blur detector interface (NEW!)
â”‚   â”œâ”€â”€ BlurryImageDetection.py         # Blur detection logic (NEW!)
â”‚   â”œâ”€â”€ CommonUI.py              # Shared UI components and styling
â”‚   â””â”€â”€ ...
â”œâ”€â”€ docs/                         # Documentation
â”‚   â”œâ”€â”€ ReleaseSteps.md          # Release process guide
â”‚   â”œâ”€â”€ STORE_PACKAGE_CHECKLIST.md  # Store submission checklist
â”‚   â”œâ”€â”€ ms-store-submission.md   # Store submission guide
â”‚   â””â”€â”€ RELEASE_NOTES_v1.2.0.md  # Latest release notes
â”œâ”€â”€ assets/                       # Static assets (icons, etc.)
â”œâ”€â”€ resources/                    # Runtime resources
â”‚   â””â”€â”€ app.ico                  # Application icon
â”œâ”€â”€ build.bat                     # Main build script
â”œâ”€â”€ create_store_package.bat     # Store package builder
â”œâ”€â”€ create_store_assets.py       # Asset generator
â”œâ”€â”€ PhotoSift.spec               # PyInstaller configuration
â”œâ”€â”€ installer.iss                # Inno Setup configuration
â””â”€â”€ README.md                    # This file
```

## Development Setup

1. Create a virtual environment:
   ```bash
   python -m venv venv
   .\venv\Scripts\activate
   ```

2. Install dependencies:
   ```bash
   pip install -e .
   ```

3. Run the application:
   ```bash
   # Launch main menu to select a tool
   python src/launchPhotoSiftApp.py
   
   # Or launch individual tools directly:
   python src/ImageClassifierGUI.py           # Image classifier
   python src/DuplicateImageIdentifierGUI.py  # Duplicate finder
   python src/BlurryImageDetectionGUI.py      # Blur detector
   ```

## How It Works

### Image Classification (People vs Screenshots)
PhotoSift uses the CLIP (Contrastive Language-Image Pre-Training) model from OpenAI to classify images. The model:
- Has been trained on millions of diverse images
- Understands the relationship between images and text descriptions
- Can effectively distinguish between different types of photos
- Provides confidence scores for each classification

**Process:**
1. Loads images from selected folders
2. Processes them through the CLIP model in batches
3. Classifies based on confidence scores
4. Organizes results into categories

### Duplicate Detection
Uses CLIP embeddings to find perceptually similar images:
- Generates high-dimensional vector representations of images
- Compares vectors using cosine similarity
- Groups images by similarity threshold
- Works even if images are resized, reformatted, or slightly edited

**Process:**
1. Generates CLIP embeddings for all images
2. Calculates similarity scores between image pairs
3. Groups similar images together
4. Presents duplicates for review and cleanup

### Blur Detection (NEW!)
Uses the Laplacian variance method to detect out-of-focus or blurry images:
- Applies the Laplacian operator to measure edge sharpness
- Calculates variance of the Laplacian (sharp edges = high variance)
- **Multi-threaded batch processing** for optimal performance
- Uses concurrent processing with up to 8 parallel workers
- Processes multiple images simultaneously for 5-8x speed improvement

**How Blur Detection Works:**
1. **Image Loading**: Reads image in grayscale for faster processing
2. **Laplacian Operator**: Calculates second derivative to detect edges
3. **Variance Calculation**: Sharp images have high variance, blurry images have low variance
4. **Threshold Comparison**: Scores below threshold are classified as blurry
5. **Quality Categorization**: Assigns quality level based on score ranges

**Blur Score Interpretation:**
- **>500**: Excellent - Very sharp with fine detail
- **250-500**: Good - Sharp with good detail
- **100-250**: Fair - Acceptable sharpness
- **50-100**: Poor - Noticeable blur
- **<50**: Very Blurry - Significantly out of focus

**Parallel Processing:**
- Utilizes CPU cores efficiently (up to 8 workers)
- Processes multiple images concurrently
- Progress updates in real-time as tasks complete
- Dramatically faster than sequential processing

## AI-Human Collaborative Development Process

This project showcases a new paradigm in software development, where AI and humans work together seamlessly:

### Role of AI Agent
- Architecture design and suggestions
- Code generation and implementation
- Documentation creation
- Bug detection and fixes
- Test case generation
- Performance optimization recommendations

### Role of Human Developer
- Project vision and requirements definition
- Quality assurance and code review
- Final decision-making on architectural choices
- User experience validation
- Edge case consideration
- Security review

### Development Workflow
1. Human developer defines feature requirements
2. AI agent suggests implementation approaches
3. Human selects and refines the approach
4. AI generates implementation code
5. Human reviews and validates the code
6. AI assists in testing and documentation
7. Human performs final validation and deployment

This collaborative approach has resulted in:
- Faster development cycles
- Higher code quality
- Better documentation
- More comprehensive testing
- Reduced technical debt

## Contributing

When contributing to this project, embrace the AI-human collaborative approach:

1. Fork the repository
2. Use AI tools (like GitHub Copilot) for development
3. Document AI collaboration in commits
4. Create your feature branch (`git checkout -b feature/amazing-feature`)
5. Commit your changes (`git commit -m 'Add some amazing feature using AI collaboration'`)
6. Push to the branch (`git push origin feature/amazing-feature`)
7. Open a Pull Request describing the AI-human collaboration process

## Privacy

PhotoSift is designed with privacy as a top priority:
- **No data collection** - We don't collect any personal information
- **100% local processing** - All image analysis happens on your device
- **Offline operation** - No internet connection required after installation
- **Your photos stay private** - Images never leave your computer

See [docs/PRIVACY_POLICY.md](docs/PRIVACY_POLICY.md) for complete details.

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Acknowledgments

- GitHub Copilot and OpenAI for AI development assistance
- CLIP model by OpenAI for image classification
- OpenCV for computer vision and blur detection algorithms
- PyTorch and torchvision teams
- Tkinter for the GUI framework
- Python's concurrent.futures for efficient parallel processing

Special thanks to the AI research community for advancing the field of AI-assisted software development and making projects like this possible. This project stands as a testament to the potential of human-AI collaboration in creating robust, efficient software solutions.

## Support

If you encounter any issues or have questions:
1. Check the [Issues](https://github.com/peterchei/PhotoSift/issues) page
2. Create a new issue if your problem isn't already listed
3. Provide as much detail as possible including:
   - Operating System
   - Python version
   - Steps to reproduce the issue